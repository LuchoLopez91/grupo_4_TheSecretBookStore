<!DOCTYPE html>
<html lang="en">
  <!-- Includes head -->
  <%- include("../partials/head", {doctitle}) %>
  <body>
    <!-- header -->
    <%- include("../partials/header") %>
    <!-- header -->

    <div class="container-title">
      <div>
        <div class="title-form">
          <h2 class="title">Formulario de creacion</h2>
        </div>
      </div>
    </div>
    <div class="container-form">
      <form action="/store/create/" method="POST" enctype="multipart/form-data">
        <div class="container-product">
          <div class="form">
            <label for="name" class="form-label">Título del libro</label>
            <input
              type="text"
              id="name"
              name="title"
              placeholder="EJ: El numero cuatro"
              class="form-input"
              value="<%= locals.old && old.title ? old.title : "" %>"
            />
            <% if(locals.errors && errors.title) {%>
              <div class="text-danger"><%= errors.title.msg %></div>
          <% } %>

          </div>
          <div class="form">
            <label for="text" class="form-label">Autor</label>
            <input
              type="text"
              id="author"
              name="author"
              placeholder="EJ: J.K. Rowling"
              class="form-input"
              value="<%= locals.old && old.author? old.author : "" %>"

            />
            <% if(locals.errors && errors.author) {%>
              <div class="text-danger"><%= errors.author.msg %></div>
          <% } %>

          </div>
          <div class="form">
            <label for="text" class="form-label">ISBN13</label>
            <input
              type="text"
              id="isbn13"
              name="isbn13"
              class="form-input"
            />
            <% if(locals.errors && errors.isbn13) {%>
              <div class="text-danger"><%= errors.isbn13.msg %></div>
          <% } %>

          </div>
          <div class="form">
            <label for="text" class="form-label">Cantidad de páginas</label>
            <input
              type="text"
              id="pageCount"
              name="pageCount"
              class="form-input"
            />
          </div>
          <div class="form">
            <label for="price" class="form-label">Precio</label>
            <input
              type="text"
              id="price"
              name="price"
              placeholder="EJ: 12345"
              class="form-input"
            />
            <% if(locals.errors && errors.price) {%>
              <div class="text-danger"><%= errors.price.msg %></div>
          <% } %>

          </div>
          <div class="form">
            <label for="editorial" class="form-label">Editorial</label>            
              <select name="editorial_id" id="editorial" class="form-input">
                <option value="" disabled selected>Selecciona la editorial</option>
                <% for( let index = 0; index < EDITORIALS.length; index++ ) { %>
                  <option value="<%= EDITORIALS[index].id %>"><%= EDITORIALS[index].editorial %></option>
                <% } %>
              </select>
              <% if(locals.errors && errors.editorial_id) {%>
                <div class="text-danger"><%= errors.editorial_id.msg %></div>
            <% } %>
  
              </div>
          <div class="form-idioma">
            <label for="lenguaje" class="form-label">Idioma</label>
            <select name="language_id" id="lenguaje" class="form-input">
              <option value="" disabled selected>Selecciona el lenguaje</option>
              <% for( let index = 0; index < LANGUAGES.length; index++ ) { %>
                <option value="<%= LANGUAGES[index].id %>"><%= LANGUAGES[index].language %></option>
              <% } %>
            </select>
            <% if(locals.errors && errors.language_id) {%>
              <div class="text-danger"><%= errors.language_id.msg %></div>
          <% } %>

          </div>
          <div class="form">
            <label for="formato" class="form-label">Formato</label>
            <select name="format_id" id="formato" class="form-input">
              <option value="" disabled selected>Selecciona el formato</option>
              <% for( let index = 0; index < FORMATS.length; index++ ) { %>
                <option value="<%= FORMATS[index].id %>"><%= FORMATS[index].format %></option>
              <% } %>
            </select>
            <% if(locals.errors && errors.format_id) {%>
              <div class="text-danger"><%= errors.format_id.msg %></div>
          <% } %>

          </div>
          <div class="form-genero">
            <label for="genero" class="form-label">Genero</label>
            <select name="genre_id" id="genero" class="form-input">
              <option value="" disabled selected>Selecciona el género</option>

              <% for( let index = 0; index < GENRES.length; index++ ) { %>
                <option value="<%= GENRES[index].id %>"><%= GENRES[index].genre %></option>
              <% } %>
            </select>
            <% if(locals.errors && errors.genre_id) {%>
              <div class="text-danger"><%= errors.genre_id.msg %></div>
          <% } %>

          </div>
          <div class="form-portada">
            <label>Elegir imagen del producto</label>
            <input type="file" name="image" accept=".jpg, .png, .jpeg, .gif" />
          </div>
          <div class="form-descripcion">
            <label for="descripcion" class="form-label">Descripcion</label>
            <textarea
              id="descripcion"
              name="description"
              placeholder="Maximo 200 caracteres"
              class="form-input"
            ></textarea>
            <% if(locals.errors && errors.description) {%>
              <div class="text-danger"><%= errors.description.msg %></div>
          <% } %>

          </div>
          <div class="btn-save">
            <button type="submit" class="save-product">Guardar Producto</button>
          </div>
        </div>
      </form>
    </div>
    <!-- Includes footer -->
    <%- include("../partials/footer2") %>
    <!-- Includes footer -->
    <%- include("../partials/scripts")  %>
  </body>
</html>
